[gd_scene load_steps=10 format=2]

[ext_resource path="res://StableHordeClient.gd" type="Script" id=1]
[ext_resource path="res://addons/stable_horde_client/stable_horde_client.gd" type="Script" id=2]
[ext_resource path="res://theme/kenneyUI-blue.tres" type="Theme" id=3]
[ext_resource path="res://Infodump.gd" type="Script" id=4]
[ext_resource path="res://ConfigSlider.tscn" type="PackedScene" id=5]
[ext_resource path="res://Credits.gd" type="Script" id=6]
[ext_resource path="res://theme/components/blue_button05.png" type="Texture" id=7]
[ext_resource path="res://theme/components/grey_button05.png" type="Texture" id=8]

[sub_resource type="GDScript" id=1]
script/source = "extends Label

func _ready():
	text = \"Version: \" + ToolConsts.VERSION
"

[node name="TabContainer" type="TabContainer"]
anchor_right = 1.0
anchor_bottom = 1.0
theme = ExtResource( 3 )
script = ExtResource( 1 )

[node name="StableHordeClient" type="HTTPRequest" parent="."]
unique_name_in_owner = true
script = ExtResource( 2 )

[node name="Text2Image" type="MarginContainer" parent="."]
anchor_right = 1.0
anchor_bottom = 1.0
margin_left = 4.0
margin_top = 35.0
margin_right = -4.0
margin_bottom = -4.0
custom_constants/margin_right = 15
custom_constants/margin_top = 15
custom_constants/margin_left = 15
custom_constants/margin_bottom = 15

[node name="VBoxContainer" type="VBoxContainer" parent="Text2Image"]
margin_left = 15.0
margin_top = 15.0
margin_right = 1593.0
margin_bottom = 846.0
custom_constants/separation = 20

[node name="Generate" type="HBoxContainer" parent="Text2Image/VBoxContainer"]
margin_right = 1578.0
margin_bottom = 41.0

[node name="PromptCC" type="MarginContainer" parent="Text2Image/VBoxContainer/Generate"]
unique_name_in_owner = true
margin_right = 1485.0
margin_bottom = 41.0
size_flags_horizontal = 3

[node name="PromptLine" type="LineEdit" parent="Text2Image/VBoxContainer/Generate/PromptCC"]
unique_name_in_owner = true
margin_right = 1485.0
margin_bottom = 41.0
size_flags_horizontal = 3
clear_button_enabled = true
placeholder_text = "A horde of cute blue robots with gears on their head."

[node name="GenerationsProcessing" type="TextureProgress" parent="Text2Image/VBoxContainer/Generate/PromptCC"]
unique_name_in_owner = true
margin_right = 1485.0
margin_bottom = 41.0
max_value = 20.0
step = 0.01
texture_progress = ExtResource( 8 )
tint_progress = Color( 0.572549, 0.941176, 1, 1 )
nine_patch_stretch = true
stretch_margin_left = 6
stretch_margin_top = 6
stretch_margin_right = 6
stretch_margin_bottom = 6

[node name="GenerationsDone" type="TextureProgress" parent="Text2Image/VBoxContainer/Generate/PromptCC"]
unique_name_in_owner = true
margin_right = 1485.0
margin_bottom = 41.0
max_value = 20.0
step = 0.01
texture_progress = ExtResource( 7 )
nine_patch_stretch = true
stretch_margin_left = 6
stretch_margin_top = 6
stretch_margin_right = 6
stretch_margin_bottom = 6

[node name="Tween" type="Tween" parent="Text2Image/VBoxContainer/Generate/PromptCC"]
unique_name_in_owner = true

[node name="GenerateButton" type="Button" parent="Text2Image/VBoxContainer/Generate"]
unique_name_in_owner = true
margin_left = 1489.0
margin_right = 1578.32
margin_bottom = 41.251
text = "Generate"

[node name="MainArea" type="HBoxContainer" parent="Text2Image/VBoxContainer"]
margin_top = 61.0
margin_right = 1578.0
margin_bottom = 831.0
size_flags_horizontal = 3
size_flags_vertical = 3
custom_constants/separation = 20

[node name="ControlsLeft" type="VBoxContainer" parent="Text2Image/VBoxContainer/MainArea"]
unique_name_in_owner = true
margin_right = 192.0
margin_bottom = 770.0
size_flags_horizontal = 3
custom_constants/separation = 20

[node name="Width" parent="Text2Image/VBoxContainer/MainArea/ControlsLeft" instance=ExtResource( 5 )]
unique_name_in_owner = true
margin_right = 192.0
margin_bottom = 63.0
config_setting = "width"

[node name="Height" parent="Text2Image/VBoxContainer/MainArea/ControlsLeft" instance=ExtResource( 5 )]
unique_name_in_owner = true
margin_top = 83.0
margin_right = 192.0
margin_bottom = 146.0
config_setting = "height"

[node name="ConfigSlider" parent="Text2Image/VBoxContainer/MainArea/ControlsLeft" instance=ExtResource( 5 )]
unique_name_in_owner = true
margin_top = 166.0
margin_right = 192.0
margin_bottom = 229.0
config_setting = "steps"

[node name="Amount" parent="Text2Image/VBoxContainer/MainArea/ControlsLeft" instance=ExtResource( 5 )]
unique_name_in_owner = true
margin_top = 249.0
margin_right = 192.0
margin_bottom = 332.0

[node name="SamplerMethodLabel" type="Label" parent="Text2Image/VBoxContainer/MainArea/ControlsLeft"]
margin_top = 352.0
margin_right = 192.0
margin_bottom = 409.0
text = "Sampling method (k_lms is default k-diffusion sampler)"
autowrap = true

[node name="SamplerMethod" type="OptionButton" parent="Text2Image/VBoxContainer/MainArea/ControlsLeft"]
unique_name_in_owner = true
margin_top = 429.0
margin_right = 192.0
margin_bottom = 470.251
text = "k_lms"
items = [ "k_lms", null, false, 0, null, "k_heun", null, false, 1, null, "k_euler", null, false, 2, null, "k_euler_a", null, false, 3, null, "k_dpm_2", null, false, 4, null, "k_dpm_2_a", null, false, 5, null, "DDIM", null, false, 6, null, "PLMS", null, false, 7, null ]
selected = 0

[node name="SeedLabel" type="Label" parent="Text2Image/VBoxContainer/MainArea/ControlsLeft"]
margin_top = 490.0
margin_right = 192.0
margin_bottom = 527.0
text = "Seed (blank to randomize)"
autowrap = true

[node name="Seed" type="LineEdit" parent="Text2Image/VBoxContainer/MainArea/ControlsLeft"]
unique_name_in_owner = true
margin_top = 547.0
margin_right = 192.0
margin_bottom = 585.434

[node name="APIKeyLabel" type="RichTextLabel" parent="Text2Image/VBoxContainer/MainArea/ControlsLeft"]
unique_name_in_owner = true
margin_top = 605.0
margin_right = 192.0
margin_bottom = 623.0
bbcode_enabled = true
bbcode_text = "API Key [url=register](Register)[/url]"
text = "API Key (Register)"
fit_content_height = true

[node name="APIKey" type="LineEdit" parent="Text2Image/VBoxContainer/MainArea/ControlsLeft"]
unique_name_in_owner = true
margin_top = 643.0
margin_right = 192.0
margin_bottom = 681.434
secret = true
clear_button_enabled = true

[node name="Display" type="VBoxContainer" parent="Text2Image/VBoxContainer/MainArea"]
unique_name_in_owner = true
margin_left = 212.0
margin_right = 1412.0
margin_bottom = 770.0

[node name="DisplayFocus" type="TextureRect" parent="Text2Image/VBoxContainer/MainArea/Display"]
unique_name_in_owner = true
visible = false
margin_right = 1200.0
margin_bottom = 151.0
size_flags_vertical = 3
expand = true
stretch_mode = 4

[node name="GridScroll" type="ScrollContainer" parent="Text2Image/VBoxContainer/MainArea/Display"]
unique_name_in_owner = true
margin_right = 1200.0
margin_bottom = 686.0
rect_min_size = Vector2( 1200, 600 )
size_flags_vertical = 3

[node name="Grid" type="GridContainer" parent="Text2Image/VBoxContainer/MainArea/Display/GridScroll"]
unique_name_in_owner = true
margin_right = 1200.0
margin_bottom = 686.0
size_flags_horizontal = 3
size_flags_vertical = 3
columns = 9

[node name="ImagePrompt" type="LineEdit" parent="Text2Image/VBoxContainer/MainArea/Display"]
unique_name_in_owner = true
margin_top = 690.0
margin_right = 1200.0
margin_bottom = 728.434
size_flags_horizontal = 3
text = "Prompt:"
editable = false

[node name="ImageInfo" type="HBoxContainer" parent="Text2Image/VBoxContainer/MainArea/Display"]
unique_name_in_owner = true
margin_top = 732.0
margin_right = 1200.0
margin_bottom = 770.0
custom_constants/separation = 50

[node name="ImageSeed" type="LineEdit" parent="Text2Image/VBoxContainer/MainArea/Display/ImageInfo"]
unique_name_in_owner = true
margin_right = 90.8655
margin_bottom = 38.4343
text = "Seed:"
editable = false
expand_to_text_length = true

[node name="ImageWidth" type="LineEdit" parent="Text2Image/VBoxContainer/MainArea/Display/ImageInfo"]
unique_name_in_owner = true
margin_left = 140.0
margin_right = 230.866
margin_bottom = 38.4343
text = "Width: "
editable = false
expand_to_text_length = true

[node name="ImageLength" type="LineEdit" parent="Text2Image/VBoxContainer/MainArea/Display/ImageInfo"]
unique_name_in_owner = true
margin_left = 280.0
margin_right = 370.866
margin_bottom = 38.4343
text = "Length:"
editable = false
expand_to_text_length = true

[node name="ServerName" type="LineEdit" parent="Text2Image/VBoxContainer/MainArea/Display/ImageInfo"]
unique_name_in_owner = true
margin_left = 420.0
margin_right = 1200.0
margin_bottom = 38.4343
size_flags_horizontal = 3
text = "Server Name:"
editable = false

[node name="ControlsRight" type="VBoxContainer" parent="Text2Image/VBoxContainer/MainArea"]
unique_name_in_owner = true
margin_left = 1432.0
margin_right = 1578.0
margin_bottom = 770.0
size_flags_horizontal = 3
custom_constants/separation = 20

[node name="SaveDirLabel" type="Label" parent="Text2Image/VBoxContainer/MainArea/ControlsRight"]
unique_name_in_owner = true
margin_right = 146.0
margin_bottom = 17.0
text = "Save Directory"
autowrap = true

[node name="SaveDir" type="LineEdit" parent="Text2Image/VBoxContainer/MainArea/ControlsRight"]
unique_name_in_owner = true
margin_top = 37.0
margin_right = 146.0
margin_bottom = 75.4343

[node name="SaveButtons" type="HBoxContainer" parent="Text2Image/VBoxContainer/MainArea/ControlsRight"]
margin_top = 95.0
margin_right = 146.0
margin_bottom = 136.0
custom_constants/separation = 10

[node name="Save" type="Button" parent="Text2Image/VBoxContainer/MainArea/ControlsRight/SaveButtons"]
unique_name_in_owner = true
margin_right = 56.3241
margin_bottom = 41.251
size_flags_horizontal = 3
disabled = true
text = "Save"

[node name="SaveAll" type="Button" parent="Text2Image/VBoxContainer/MainArea/ControlsRight/SaveButtons"]
unique_name_in_owner = true
margin_left = 66.0
margin_right = 146.324
margin_bottom = 41.251
size_flags_horizontal = 3
text = "Save All"

[node name="StatusText" type="Label" parent="Text2Image/VBoxContainer/MainArea/ControlsRight"]
unique_name_in_owner = true
margin_top = 156.0
margin_right = 146.0
margin_bottom = 173.0
autowrap = true

[node name="Information" type="MarginContainer" parent="."]
visible = false
anchor_right = 1.0
anchor_bottom = 1.0
margin_left = 4.0
margin_top = 35.0
margin_right = -4.0
margin_bottom = -4.0
custom_constants/margin_right = 15
custom_constants/margin_top = 15
custom_constants/margin_left = 15
custom_constants/margin_bottom = 15

[node name="VBoxContainer" type="VBoxContainer" parent="Information"]
margin_left = 15.0
margin_top = 15.0
margin_right = 1593.0
margin_bottom = 846.0
custom_constants/separation = 10

[node name="HBoxContainer" type="HBoxContainer" parent="Information/VBoxContainer"]
margin_right = 1562.0
margin_bottom = 17.0

[node name="Title" type="Label" parent="Information/VBoxContainer/HBoxContainer"]
margin_right = 142.0
margin_bottom = 17.0
text = "Stable Horde Client"

[node name="Version" type="Label" parent="Information/VBoxContainer/HBoxContainer"]
margin_left = 146.0
margin_right = 207.0
margin_bottom = 17.0
text = "Version:"
script = SubResource( 1 )

[node name="HBC" type="HBoxContainer" parent="Information/VBoxContainer"]
margin_top = 27.0
margin_right = 1562.0
margin_bottom = 831.0
size_flags_horizontal = 3
size_flags_vertical = 3

[node name="VBC1" type="VBoxContainer" parent="Information/VBoxContainer/HBC"]
margin_right = 800.0
margin_bottom = 804.0
size_flags_horizontal = 3
size_flags_vertical = 3

[node name="Infodump" type="RichTextLabel" parent="Information/VBoxContainer/HBC/VBC1"]
margin_right = 800.0
margin_bottom = 108.0
rect_min_size = Vector2( 800, 0 )
bbcode_enabled = true
bbcode_text = "Welcome to Stable Diffusion on Godot!

You can use this software to generate images using AI and then save them to your disk.

Be aware that this software is relying on the Stable Horde crowdsourced cluster, and therefore your speed will depend on how many other people are using this service at the same time"
text = "Welcome to Stable Diffusion on Godot!

You can use this software to generate images using AI and then save them to your disk.

Be aware that this software is relying on the Stable Horde crowdsourced cluster, and therefore your speed will depend on how many other people are using this service at the same time"
fit_content_height = true
scroll_active = false
script = ExtResource( 4 )

[node name="VBC2" type="VBoxContainer" parent="Information/VBoxContainer/HBC"]
margin_left = 804.0
margin_right = 1562.0
margin_bottom = 804.0
size_flags_horizontal = 3
size_flags_vertical = 3

[node name="Credits" type="RichTextLabel" parent="Information/VBoxContainer/HBC/VBC2"]
margin_right = 758.0
margin_bottom = 18.0
bbcode_enabled = true
bbcode_text = "Contributors"
text = "Contributors"
fit_content_height = true
script = ExtResource( 6 )

[connection signal="meta_clicked" from="Text2Image/VBoxContainer/MainArea/ControlsLeft/APIKeyLabel" to="." method="_on_APIKeyLabel_meta_clicked"]
[connection signal="text_changed" from="Text2Image/VBoxContainer/MainArea/ControlsLeft/APIKey" to="." method="_on_APIKey_text_changed"]
[connection signal="meta_clicked" from="Information/VBoxContainer/HBC/VBC1/Infodump" to="Information/VBoxContainer/HBC/VBC1/Infodump" method="_on_Infodump_meta_clicked"]
[connection signal="meta_clicked" from="Information/VBoxContainer/HBC/VBC2/Credits" to="Information/VBoxContainer/HBC/VBC2/Credits" method="_on_Credits_meta_clicked"]
